Refactor: Calculation functions in modes.py

This commit:
  - Delegates a separate function for calculations and checking existence of tickets
  - Makes bigger functions more readable with meaningful function names
