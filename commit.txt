Unittest: Mock API with patching requests.get

This commit:
  - Refactors fetching method in modes.py to unittest with mock.patch